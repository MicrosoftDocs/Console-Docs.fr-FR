---
title: Mémoires tampons d’écran d’une console
description: Une mémoire tampon d’écran est un tableau à deux dimensions qui comprend des données sur les caractères et les couleurs utilisés pour la sortie de la fenêtre de console.
author: miniksa
ms.author: miniksa
ms.topic: conceptual
keywords: console, applications en mode caractère, applications en ligne de commande, applications de terminal, API console
MS-HAID:
- '\_win32\_console\_screen\_buffers'
- base.console\_screen\_buffers
- consoles.console\_screen\_buffers
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: f94995fc-5f5f-4fcd-969d-7e10020634c2
ms.localizationpriority: high
ms.openlocfilehash: 4c5740be3b60d54f9e7b586b41e962a4102222a0
ms.sourcegitcommit: 508e93bc83b4bca6ce678f88ab081d66b95d605c
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/04/2020
ms.locfileid: "96420198"
---
# <a name="console-screen-buffers"></a><span data-ttu-id="dadbc-104">Mémoires tampons d’écran d’une console</span><span class="sxs-lookup"><span data-stu-id="dadbc-104">Console Screen Buffers</span></span>

<span data-ttu-id="dadbc-105">Une *mémoire tampon d’écran* est un tableau à deux dimensions qui comprend des données sur les caractères et les couleurs utilisés pour la sortie de la fenêtre de console.</span><span class="sxs-lookup"><span data-stu-id="dadbc-105">A *screen buffer* is a two-dimensional array of character and color data for output in a console window.</span></span> <span data-ttu-id="dadbc-106">Une console peut avoir plusieurs mémoires tampons d’écran.</span><span class="sxs-lookup"><span data-stu-id="dadbc-106">A console can have multiple screen buffers.</span></span> <span data-ttu-id="dadbc-107">La *mémoire tampon active* est celle qui est affichée à l’écran.</span><span class="sxs-lookup"><span data-stu-id="dadbc-107">The *active screen buffer* is the one that is displayed on the screen.</span></span>

<span data-ttu-id="dadbc-108">Le système crée une mémoire tampon d’écran chaque fois qu’il crée une nouvelle console.</span><span class="sxs-lookup"><span data-stu-id="dadbc-108">The system creates a screen buffer whenever it creates a new console.</span></span> <span data-ttu-id="dadbc-109">Pour ouvrir le handle vers la mémoire tampon d’écran active de la console, spécifiez la valeur **CONOUT$** dans un appel à la fonction [**CreateFile**](https://msdn.microsoft.com/library/windows/desktop/aa363858).</span><span class="sxs-lookup"><span data-stu-id="dadbc-109">To open a handle to a console's active screen buffer, specify the **CONOUT$** value in a call to the [**CreateFile**](https://msdn.microsoft.com/library/windows/desktop/aa363858) function.</span></span> <span data-ttu-id="dadbc-110">Un processus peut utiliser la fonction [**CreateConsoleScreenBuffer**](createconsolescreenbuffer.md) afin de créer des mémoires tampons d’écran supplémentaires pour sa console.</span><span class="sxs-lookup"><span data-stu-id="dadbc-110">A process can use the [**CreateConsoleScreenBuffer**](createconsolescreenbuffer.md) function to create additional screen buffers for its console.</span></span> <span data-ttu-id="dadbc-111">Une nouvelle mémoire tampon d’écran n’est pas active tant que son handle n’est pas spécifié dans un appel à la fonction [**SetConsoleActiveScreenBuffer**](setconsoleactivescreenbuffer.md).</span><span class="sxs-lookup"><span data-stu-id="dadbc-111">A new screen buffer is not active until its handle is specified in a call to the [**SetConsoleActiveScreenBuffer**](setconsoleactivescreenbuffer.md) function.</span></span> <span data-ttu-id="dadbc-112">Toutefois, les mémoires tampons d’écran sont accessibles en lecture et en écriture, qu’elles soient actives ou inactives.</span><span class="sxs-lookup"><span data-stu-id="dadbc-112">However, screen buffers can be accessed for reading and writing whether they are active or inactive.</span></span>

<span data-ttu-id="dadbc-113">Chaque mémoire tampon d’écran a son propre tableau à deux dimensions contenant des informations sur les caractères.</span><span class="sxs-lookup"><span data-stu-id="dadbc-113">Each screen buffer has its own two-dimensional array of character information records.</span></span> <span data-ttu-id="dadbc-114">Les données concernant chaque caractère sont stockées dans une structure [**CHAR\_INFO**](char-info-str.md) qui spécifie le caractère Unicode ou ANSI, ainsi que les couleurs de premier plan et d’arrière-plan dans lesquelles ce caractère est affiché.</span><span class="sxs-lookup"><span data-stu-id="dadbc-114">The data for each character is stored in a [**CHAR\_INFO**](char-info-str.md) structure that specifies the Unicode or ANSI character and the foreground and background colors in which that character is displayed.</span></span>

<span data-ttu-id="dadbc-115">Pour chaque mémoire tampon d’écran, vous pouvez définir indépendamment un certain nombre de propriétés.</span><span class="sxs-lookup"><span data-stu-id="dadbc-115">A number of properties associated with a screen buffer can be set independently for each screen buffer.</span></span> <span data-ttu-id="dadbc-116">Cela signifie que le changement de la mémoire tampon d’écran active peut avoir un impact important sur l’apparence de la fenêtre de la console.</span><span class="sxs-lookup"><span data-stu-id="dadbc-116">This means that changing the active screen buffer can have a dramatic effect on the appearance of the console window.</span></span> <span data-ttu-id="dadbc-117">Les propriétés associées à une mémoire tampon d’écran sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="dadbc-117">The properties associated with a screen buffer include:</span></span>

- <span data-ttu-id="dadbc-118">Taille de la mémoire tampon d’écran, en nombre de lignes et de colonnes de caractères.</span><span class="sxs-lookup"><span data-stu-id="dadbc-118">Screen buffer size, in character rows and columns.</span></span>
- <span data-ttu-id="dadbc-119">Attributs du texte (couleurs de premier plan et d’arrière-plan pour l’affichage du texte qui doit être écrit par la fonction [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) ou [**WriteConsole**](writeconsole.md)).</span><span class="sxs-lookup"><span data-stu-id="dadbc-119">Text attributes (foreground and background colors for displaying text to be written by the [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) or [**WriteConsole**](writeconsole.md) function).</span></span>
- <span data-ttu-id="dadbc-120">Taille et emplacement de la fenêtre (zone rectangulaire de la mémoire tampon d’écran qui s’affiche dans la fenêtre de la console).</span><span class="sxs-lookup"><span data-stu-id="dadbc-120">Window size and location (the rectangular region of the console screen buffer that is displayed in the console window).</span></span>
- <span data-ttu-id="dadbc-121">Position, apparence et visibilité du curseur.</span><span class="sxs-lookup"><span data-stu-id="dadbc-121">Cursor position, appearance, and visibility.</span></span>
- <span data-ttu-id="dadbc-122">Modes de sortie (**ENABLE\_PROCESSED\_OUTPUT** et **ENABLE\_WRAP\_AT\_EOL\_OUTPUT**).</span><span class="sxs-lookup"><span data-stu-id="dadbc-122">Output modes (**ENABLE\_PROCESSED\_OUTPUT** and **ENABLE\_WRAP\_AT\_EOL\_OUTPUT**).</span></span> <span data-ttu-id="dadbc-123">Pour plus d’informations sur les modes de sortie de la console, consultez [Modes de haut niveau de la console](high-level-console-modes.md).</span><span class="sxs-lookup"><span data-stu-id="dadbc-123">For more information about console output modes, see [High-Level Console Modes](high-level-console-modes.md).</span></span>

<span data-ttu-id="dadbc-124">Lorsque vous créez une mémoire tampon d’écran, celle-ci contient des espaces à chaque position.</span><span class="sxs-lookup"><span data-stu-id="dadbc-124">When a screen buffer is created, it contains space characters in every position.</span></span> <span data-ttu-id="dadbc-125">Son curseur est visible et positionné à l’origine de la mémoire tampon (0,0). La fenêtre est positionnée de sorte que son coin supérieur gauche est situé à l’origine de la mémoire tampon.</span><span class="sxs-lookup"><span data-stu-id="dadbc-125">Its cursor is visible and positioned at the buffer's origin (0,0), and the window is positioned with its upper left corner at the buffer's origin.</span></span> <span data-ttu-id="dadbc-126">La taille de la mémoire tampon d’écran de la console, la taille de la fenêtre, les attributs du texte et l’apparence du curseur sont déterminés par l’utilisateur ou par les valeurs par défaut du système.</span><span class="sxs-lookup"><span data-stu-id="dadbc-126">The size of the console screen buffer, the window size, the text attributes, and the appearance of the cursor are determined by the user or by the system defaults.</span></span> <span data-ttu-id="dadbc-127">Pour récupérer les valeurs actuelles des différentes propriétés associées à la mémoire tampon d’écran de la console, utilisez les fonctions [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md), [**GetConsoleCursorInfo**](getconsolecursorinfo.md) et [**GetConsoleMode**](getconsolemode.md).</span><span class="sxs-lookup"><span data-stu-id="dadbc-127">To retrieve the current values of the various properties associated with the console screen buffer, use the [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md), [**GetConsoleCursorInfo**](getconsolecursorinfo.md), and [**GetConsoleMode**](getconsolemode.md) functions.</span></span>

<span data-ttu-id="dadbc-128">Les applications qui changent les propriétés de la mémoire tampon d’écran de la console doivent créer leur propre mémoire tampon d’écran, ou enregistrer l’état de la mémoire tampon d’écran héritée lors du démarrage et la restaurer au moment de la fermeture.</span><span class="sxs-lookup"><span data-stu-id="dadbc-128">Applications that change any of the console screen buffer properties should either create their own screen buffer or save the state of the inherited screen buffer during startup and restore it at exit.</span></span> <span data-ttu-id="dadbc-129">Ce comportement coopératif est nécessaire pour faire en sorte que les autres applications qui partagent la même session de console ne soient pas impactées par les modifications.</span><span class="sxs-lookup"><span data-stu-id="dadbc-129">This cooperative behavior is required to ensure that other applications sharing the same console session are not impacted by the changes.</span></span>

> [!TIP]
> <span data-ttu-id="dadbc-130">Au lieu de créer une deuxième mémoire tampon d’écran à cet effet, nous vous recommandons d’utiliser le [**mode de mémoire tampon alternatif**](console-virtual-terminal-sequences.md#alternate-screen-buffer), si cela vous est possible.</span><span class="sxs-lookup"><span data-stu-id="dadbc-130">It is recommended to use the [**alternate buffer mode**](console-virtual-terminal-sequences.md#alternate-screen-buffer) going forward, if possible, instead of creating a second screen buffer for this purpose.</span></span> <span data-ttu-id="dadbc-131">Le **mode de mémoire tampon alternatif** offre une meilleure compatibilité sur les appareils distants et sur les autres plateformes.</span><span class="sxs-lookup"><span data-stu-id="dadbc-131">**Alternate buffer mode** offers increased compatibility across remote devices and with other platforms.</span></span> <span data-ttu-id="dadbc-132">Pour plus d’informations, consultez [**Comparaison entre les API de console classiques et les séquences de terminal virtuel**](classic-vs-vt.md).</span><span class="sxs-lookup"><span data-stu-id="dadbc-132">Please see our discussion on [**classic console APIs versus virtual terminal**](classic-vs-vt.md) for more information.</span></span>

## <a name="cursor-appearance-and-position"></a><span data-ttu-id="dadbc-133">Apparence et position du curseur</span><span class="sxs-lookup"><span data-stu-id="dadbc-133">Cursor Appearance and Position</span></span>

<span data-ttu-id="dadbc-134">Le curseur d’une mémoire tampon d’écran peut être visible ou masqué.</span><span class="sxs-lookup"><span data-stu-id="dadbc-134">A screen buffer's cursor can be visible or hidden.</span></span> <span data-ttu-id="dadbc-135">Lorsqu’il est visible, son apparence peut varier, allant du remplissage intégral d’une cellule de caractère à l’affichage d’une ligne horizontale au bas de la cellule.</span><span class="sxs-lookup"><span data-stu-id="dadbc-135">When it is visible, its appearance can vary, ranging from completely filling a character cell to appearing as a horizontal line at the bottom of the cell.</span></span> <span data-ttu-id="dadbc-136">Pour récupérer des informations sur l’apparence et la visibilité du curseur, utilisez la fonction [**GetConsoleCursorInfo**](getconsolecursorinfo.md).</span><span class="sxs-lookup"><span data-stu-id="dadbc-136">To retrieve information about the appearance and visibility of the cursor, use the [**GetConsoleCursorInfo**](getconsolecursorinfo.md) function.</span></span> <span data-ttu-id="dadbc-137">Cette fonction indique si le curseur est visible et décrit l’apparence de celui-ci en indiquant l’espace qu’il remplit dans une cellule de caractère (en pourcentage).</span><span class="sxs-lookup"><span data-stu-id="dadbc-137">This function reports whether the cursor is visible and describes the appearance of the cursor as the percentage of a character cell that it fills.</span></span> <span data-ttu-id="dadbc-138">Pour définir l’apparence et la visibilité du curseur, utilisez la fonction [**SetConsoleCursorInfo**](setconsolecursorinfo.md).</span><span class="sxs-lookup"><span data-stu-id="dadbc-138">To set the appearance and visibility of the cursor, use the [**SetConsoleCursorInfo**](setconsolecursorinfo.md) function.</span></span>

<span data-ttu-id="dadbc-139">Les caractères écrits par les [fonctions d’E/S de console de haut niveau](high-level-console-i-o.md) le sont à l’emplacement actuel du curseur, et font avancer le curseur à l’emplacement suivant.</span><span class="sxs-lookup"><span data-stu-id="dadbc-139">Characters written by the [high-level console I/O functions](high-level-console-i-o.md) are written at the current cursor location, advancing the cursor to the next location.</span></span> <span data-ttu-id="dadbc-140">Pour déterminer la position actuelle du curseur dans le système de coordonnées d’une mémoire tampon d’écran, utilisez [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md).</span><span class="sxs-lookup"><span data-stu-id="dadbc-140">To determine the current cursor position in the coordinate system of a screen buffer, use [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md).</span></span> <span data-ttu-id="dadbc-141">Vous pouvez utiliser [**SetConsoleCursorPosition**](setconsolecursorposition.md) pour définir la position du curseur et, donc, contrôler le positionnement du texte qui est écrit ou répercuté par les fonctions d’E/S de haut niveau.</span><span class="sxs-lookup"><span data-stu-id="dadbc-141">You can use [**SetConsoleCursorPosition**](setconsolecursorposition.md) to set the cursor position and, thereby, control the placement of text that is written or echoed by the high-level I/O functions.</span></span> <span data-ttu-id="dadbc-142">Si vous déplacez le curseur, le texte situé au nouvel emplacement du curseur sera remplacé.</span><span class="sxs-lookup"><span data-stu-id="dadbc-142">If you move the cursor, text at the new cursor location is overwritten.</span></span>

> [!NOTE]
> <span data-ttu-id="dadbc-143">Il est déconseillé d’utiliser les fonctions de bas niveau pour trouver la position du curseur.</span><span class="sxs-lookup"><span data-stu-id="dadbc-143">Using the low-level functions to find the cursor position is discouraged.</span></span> <span data-ttu-id="dadbc-144">Nous vous recommandons plutôt d’utiliser les [séquences de terminal virtuel](console-virtual-terminal-sequences.md) pour interroger cette position, si des dispositions avancées le demandent.</span><span class="sxs-lookup"><span data-stu-id="dadbc-144">It is recommended to use [virtual terminal sequences](console-virtual-terminal-sequences.md) to query this position if necessary for advanced layouts.</span></span> <span data-ttu-id="dadbc-145">Pour savoir pourquoi la préférence est donnée aux séquences de terminal virtuel, consultez le document **[Comparaison entre les API de console classiques et les séquences de terminal virtuel](classic-vs-vt.md)** .</span><span class="sxs-lookup"><span data-stu-id="dadbc-145">More information about preferring virtual terminal sequences can be found in the **[classic functions versus virtual terminal](classic-vs-vt.md)** document.</span></span>

<span data-ttu-id="dadbc-146">La position, l’apparence et la visibilité du curseur sont définies de manière indépendante pour chaque mémoire tampon d’écran.</span><span class="sxs-lookup"><span data-stu-id="dadbc-146">The position, appearance, and visibility of the cursor are set independently for each screen buffer.</span></span>

## <a name="character-attributes"></a><span data-ttu-id="dadbc-147">Attributs de caractères</span><span class="sxs-lookup"><span data-stu-id="dadbc-147">Character Attributes</span></span>

<span data-ttu-id="dadbc-148">Les attributs de caractères se divisent en deux classes : Color et DBCS.</span><span class="sxs-lookup"><span data-stu-id="dadbc-148">Character attributes can be divided into two classes: color and DBCS.</span></span> <span data-ttu-id="dadbc-149">Les attributs suivants sont définis dans le fichier d’en-tête `WinCon.h`.</span><span class="sxs-lookup"><span data-stu-id="dadbc-149">The following attributes are defined in the `WinCon.h` header file.</span></span>

| <span data-ttu-id="dadbc-150">Attribut</span><span class="sxs-lookup"><span data-stu-id="dadbc-150">Attribute</span></span> | <span data-ttu-id="dadbc-151">Signification</span><span class="sxs-lookup"><span data-stu-id="dadbc-151">Meaning</span></span> |
|-|-|
| <span data-ttu-id="dadbc-152">**FOREGROUND\_BLUE**</span><span class="sxs-lookup"><span data-stu-id="dadbc-152">**FOREGROUND\_BLUE**</span></span> | <span data-ttu-id="dadbc-153">La couleur du texte contient du bleu.</span><span class="sxs-lookup"><span data-stu-id="dadbc-153">Text color contains blue.</span></span> |
| <span data-ttu-id="dadbc-154">**FOREGROUND\_GREEN**</span><span class="sxs-lookup"><span data-stu-id="dadbc-154">**FOREGROUND\_GREEN**</span></span> | <span data-ttu-id="dadbc-155">La couleur du texte contient du vert.</span><span class="sxs-lookup"><span data-stu-id="dadbc-155">Text color contains green.</span></span> |
| <span data-ttu-id="dadbc-156">**FOREGROUND\_RED**</span><span class="sxs-lookup"><span data-stu-id="dadbc-156">**FOREGROUND\_RED**</span></span> | <span data-ttu-id="dadbc-157">La couleur du texte contient du rouge.</span><span class="sxs-lookup"><span data-stu-id="dadbc-157">Text color contains red.</span></span> |
| <span data-ttu-id="dadbc-158">**FOREGROUND\_INTENSITY**</span><span class="sxs-lookup"><span data-stu-id="dadbc-158">**FOREGROUND\_INTENSITY**</span></span> | <span data-ttu-id="dadbc-159">La couleur du texte est intensifiée.</span><span class="sxs-lookup"><span data-stu-id="dadbc-159">Text color is intensified.</span></span> |
| <span data-ttu-id="dadbc-160">**BACKGROUND\_BLUE**</span><span class="sxs-lookup"><span data-stu-id="dadbc-160">**BACKGROUND\_BLUE**</span></span> | <span data-ttu-id="dadbc-161">La couleur d’arrière-plan contient du bleu.</span><span class="sxs-lookup"><span data-stu-id="dadbc-161">Background color contains blue.</span></span> |
| <span data-ttu-id="dadbc-162">**BACKGROUND\_GREEN**</span><span class="sxs-lookup"><span data-stu-id="dadbc-162">**BACKGROUND\_GREEN**</span></span> | <span data-ttu-id="dadbc-163">La couleur d’arrière-plan contient du vert.</span><span class="sxs-lookup"><span data-stu-id="dadbc-163">Background color contains green.</span></span> |
| <span data-ttu-id="dadbc-164">**BACKGROUND\_RED**</span><span class="sxs-lookup"><span data-stu-id="dadbc-164">**BACKGROUND\_RED**</span></span> | <span data-ttu-id="dadbc-165">La couleur d’arrière-plan contient du rouge.</span><span class="sxs-lookup"><span data-stu-id="dadbc-165">Background color contains red.</span></span> |
| <span data-ttu-id="dadbc-166">**BACKGROUND\_INTENSITY**</span><span class="sxs-lookup"><span data-stu-id="dadbc-166">**BACKGROUND\_INTENSITY**</span></span> | <span data-ttu-id="dadbc-167">La couleur d’arrière-plan est intensifiée.</span><span class="sxs-lookup"><span data-stu-id="dadbc-167">Background color is intensified.</span></span> |
| <span data-ttu-id="dadbc-168">**COMMON\_LVB\_LEADING\_BYTE**</span><span class="sxs-lookup"><span data-stu-id="dadbc-168">**COMMON\_LVB\_LEADING\_BYTE**</span></span> | <span data-ttu-id="dadbc-169">Octet de début.</span><span class="sxs-lookup"><span data-stu-id="dadbc-169">Leading byte.</span></span> |
| <span data-ttu-id="dadbc-170">**COMMON\_LVB\_TRAILING\_BYTE**</span><span class="sxs-lookup"><span data-stu-id="dadbc-170">**COMMON\_LVB\_TRAILING\_BYTE**</span></span> | <span data-ttu-id="dadbc-171">Octet de fin.</span><span class="sxs-lookup"><span data-stu-id="dadbc-171">Trailing byte.</span></span> |
| <span data-ttu-id="dadbc-172">**COMMON\_LVB\_GRID\_HORIZONTAL**</span><span class="sxs-lookup"><span data-stu-id="dadbc-172">**COMMON\_LVB\_GRID\_HORIZONTAL**</span></span> | <span data-ttu-id="dadbc-173">Supérieur horizontal.</span><span class="sxs-lookup"><span data-stu-id="dadbc-173">Top horizontal.</span></span> |
| <span data-ttu-id="dadbc-174">**COMMON\_LVB\_GRID\_LVERTICAL**</span><span class="sxs-lookup"><span data-stu-id="dadbc-174">**COMMON\_LVB\_GRID\_LVERTICAL**</span></span> | <span data-ttu-id="dadbc-175">Gauche vertical.</span><span class="sxs-lookup"><span data-stu-id="dadbc-175">Left vertical.</span></span> |
| <span data-ttu-id="dadbc-176">**COMMON\_LVB\_GRID\_RVERTICAL**</span><span class="sxs-lookup"><span data-stu-id="dadbc-176">**COMMON\_LVB\_GRID\_RVERTICAL**</span></span> | <span data-ttu-id="dadbc-177">Droite vertical.</span><span class="sxs-lookup"><span data-stu-id="dadbc-177">Right vertical.</span></span> |
| <span data-ttu-id="dadbc-178">**COMMON\_LVB\_REVERSE\_VIDEO**</span><span class="sxs-lookup"><span data-stu-id="dadbc-178">**COMMON\_LVB\_REVERSE\_VIDEO**</span></span> | <span data-ttu-id="dadbc-179">Inverse les attributs du premier plan et de l’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="dadbc-179">Reverse foreground and background attributes.</span></span> |
| <span data-ttu-id="dadbc-180">**COMMON\_LVB\_UNDERSCORE**</span><span class="sxs-lookup"><span data-stu-id="dadbc-180">**COMMON\_LVB\_UNDERSCORE**</span></span> | <span data-ttu-id="dadbc-181">Caractère de soulignement.</span><span class="sxs-lookup"><span data-stu-id="dadbc-181">Underscore.</span></span> |

<span data-ttu-id="dadbc-182">Les attributs du premier plan spécifient la couleur du texte.</span><span class="sxs-lookup"><span data-stu-id="dadbc-182">The foreground attributes specify the text color.</span></span> <span data-ttu-id="dadbc-183">Les attributs de l’arrière-plan spécifient la couleur qui est utilisée pour remplir l’arrière-plan de la cellule.</span><span class="sxs-lookup"><span data-stu-id="dadbc-183">The background attributes specify the color used to fill the cell's background.</span></span> <span data-ttu-id="dadbc-184">Les autres attributs sont utilisés avec [DBCS](https://msdn.microsoft.com/library/windows/desktop/dd317794).</span><span class="sxs-lookup"><span data-stu-id="dadbc-184">The other attributes are used with [DBCS](https://msdn.microsoft.com/library/windows/desktop/dd317794).</span></span>

<span data-ttu-id="dadbc-185">Une application peut combiner les constantes du premier plan et de l’arrière-plan pour obtenir des couleurs différentes.</span><span class="sxs-lookup"><span data-stu-id="dadbc-185">An application can combine the foreground and background constants to achieve different colors.</span></span> <span data-ttu-id="dadbc-186">Par exemple, la combinaison suivante produit un texte cyan clair sur un arrière-plan bleu.</span><span class="sxs-lookup"><span data-stu-id="dadbc-186">For example, the following combination results in bright cyan text on a blue background.</span></span>

`FOREGROUND_BLUE | FOREGROUND_GREEN | FOREGROUND_INTENSITY | BACKGROUND_BLUE`

<span data-ttu-id="dadbc-187">Si aucune constante d’arrière-plan n’est spécifiée, l’arrière-plan est noir, et si aucune constante de premier plan n’est spécifiée, le texte est noir.</span><span class="sxs-lookup"><span data-stu-id="dadbc-187">If no background constant is specified, the background is black, and if no foreground constant is specified, the text is black.</span></span> <span data-ttu-id="dadbc-188">Par exemple, la combinaison suivante produit du texte noir sur un arrière-plan blanc.</span><span class="sxs-lookup"><span data-stu-id="dadbc-188">For example, the following combination produces black text on a white background.</span></span>

`BACKGROUND_BLUE | BACKGROUND_GREEN | BACKGROUND_RED`

<span data-ttu-id="dadbc-189">Chaque cellule de caractère de la mémoire tampon d’écran stocke les attributs des couleurs qui sont utilisées pour dessiner le premier plan (texte) et l’arrière-plan de cette cellule.</span><span class="sxs-lookup"><span data-stu-id="dadbc-189">Each screen buffer character cell stores the color attributes for the colors used in drawing the foreground (text) and background of that cell.</span></span> <span data-ttu-id="dadbc-190">Une application peut définir les données de couleur pour chaque cellule de caractère individuellement, en stockant les données dans le membre **Attributes** de la structure [**CHAR\_INFO**](char-info-str.md) pour chaque cellule.</span><span class="sxs-lookup"><span data-stu-id="dadbc-190">An application can set the color data for each character cell individually, storing the data in the **Attributes** member of the [**CHAR\_INFO**](char-info-str.md) structure for each cell.</span></span> <span data-ttu-id="dadbc-191">Les attributs de texte actuels de chaque mémoire tampon d’écran seront utilisés pour les caractères qui seront écrits ou répercutés par la suite par les fonctions de haut niveau.</span><span class="sxs-lookup"><span data-stu-id="dadbc-191">The current text attributes of each screen buffer are used for characters subsequently written or echoed by the high-level functions.</span></span>

<span data-ttu-id="dadbc-192">Une application peut utiliser [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) pour déterminer les attributs de texte actuels d’une mémoire tampon d’écran, et la fonction [**SetConsoleTextAttribute**](setconsoletextattribute.md) pour définir les attributs de caractères.</span><span class="sxs-lookup"><span data-stu-id="dadbc-192">An application can use [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) to determine the current text attributes of a screen buffer and the [**SetConsoleTextAttribute**](setconsoletextattribute.md) function to set the character attributes.</span></span> <span data-ttu-id="dadbc-193">La modification des attributs d’une mémoire tampon d’écran n’affecte pas l’affichage des caractères précédemment écrits.</span><span class="sxs-lookup"><span data-stu-id="dadbc-193">Changing a screen buffer's attributes does not affect the display of characters previously written.</span></span> <span data-ttu-id="dadbc-194">Ces attributs de texte n’affectent pas les caractères écrits par les fonctions d’E/S de console de bas niveau (comme la fonction [**WriteConsoleOutput**](writeconsoleoutput.md) ou [**WriteConsoleOutputCharacter**](writeconsoleoutputcharacter.md)), qui spécifient explicitement les attributs de chaque cellule écrite ou qui laissent les attributs inchangés.</span><span class="sxs-lookup"><span data-stu-id="dadbc-194">These text attributes do not affect characters written by the low-level console I/O functions (such as the [**WriteConsoleOutput**](writeconsoleoutput.md) or [**WriteConsoleOutputCharacter**](writeconsoleoutputcharacter.md) function), which either explicitly specify the attributes for each cell that is written or leave the attributes unchanged.</span></span>

> [!NOTE]
> <span data-ttu-id="dadbc-195">Il est déconseillé d’utiliser des fonctions de bas niveau pour manipuler des attributs de texte par défaut ou spécifiés.</span><span class="sxs-lookup"><span data-stu-id="dadbc-195">Using the low-level functions to manipulate default and specific text attributes is discouraged.</span></span> <span data-ttu-id="dadbc-196">Nous vous recommandons plutôt d’utiliser les [séquences de terminal virtuel](console-virtual-terminal-sequences.md) pour définir des attributs de texte.</span><span class="sxs-lookup"><span data-stu-id="dadbc-196">It is recommended to use [virtual terminal sequences](console-virtual-terminal-sequences.md) to set text attributes.</span></span> <span data-ttu-id="dadbc-197">Pour savoir pourquoi la préférence est donnée aux séquences de terminal virtuel, consultez le document **[Comparaison entre les API de console classiques et les séquences de terminal virtuel](classic-vs-vt.md)** .</span><span class="sxs-lookup"><span data-stu-id="dadbc-197">More information about preferring virtual terminal sequences can be found in the **[classic functions versus virtual terminal](classic-vs-vt.md)** document.</span></span>

## <a name="font-attributes"></a><span data-ttu-id="dadbc-198">Attributs de police</span><span class="sxs-lookup"><span data-stu-id="dadbc-198">Font Attributes</span></span>

<span data-ttu-id="dadbc-199">La fonction [**GetCurrentConsoleFont**](getcurrentconsolefont.md) récupère des informations sur la police actuelle de la console.</span><span class="sxs-lookup"><span data-stu-id="dadbc-199">The [**GetCurrentConsoleFont**](getcurrentconsolefont.md) function retrieves information about the current console font.</span></span> <span data-ttu-id="dadbc-200">Les informations stockées dans la structure [**CONSOLE\_FONT\_INFO**](console-font-info-str.md) comprend la largeur et la hauteur de chaque caractère dans la police en question.</span><span class="sxs-lookup"><span data-stu-id="dadbc-200">The information stored in the [**CONSOLE\_FONT\_INFO**](console-font-info-str.md) structure includes the width and height of each character in the font.</span></span>

<span data-ttu-id="dadbc-201">La fonction [**GetConsoleFontSize**](getconsolefontsize.md) récupère la taille de la police utilisée par la mémoire tampon d’écran de console spécifiée.</span><span class="sxs-lookup"><span data-stu-id="dadbc-201">The [**GetConsoleFontSize**](getconsolefontsize.md) function retrieves the size of the font used by the specified console screen buffer.</span></span>

> [!NOTE]
> <span data-ttu-id="dadbc-202">Il est déconseillé d’utiliser des fonctions pour rechercher et manipuler des informations de police.</span><span class="sxs-lookup"><span data-stu-id="dadbc-202">Using functions to find and manipulate font information is discouraged.</span></span> <span data-ttu-id="dadbc-203">Nous vous recommandons plutôt d’utiliser des applications en ligne de commande sans police pour garantir la compatibilité entre les plateformes, ainsi que la compatibilité avec les environnements hôtes qui permettent à l’utilisateur de personnaliser la police.</span><span class="sxs-lookup"><span data-stu-id="dadbc-203">It is recommended to operate command-line applications in a font neutral manner to ensure cross-platform compatibility as well as compatibility with host environments that allow the user to customize the font.</span></span> <span data-ttu-id="dadbc-204">Pour plus d’informations sur les préférences utilisateur et les environnements hôtes, y compris les terminaux, consultez la **[Feuille de route de l’écosystème](ecosystem-roadmap.md)** .</span><span class="sxs-lookup"><span data-stu-id="dadbc-204">More information user preferences and host environments including terminals, please see the **[ecosystem roadmap](ecosystem-roadmap.md)**.</span></span>
