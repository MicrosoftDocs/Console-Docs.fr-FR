---
title: Taille de la mémoire tampon de la fenêtre et de l’écran
description: La taille d’une mémoire tampon d’écran est exprimée en termes de grille de coordonnées basée sur les cellules de caractères.
author: miniksa
ms.author: miniksa
ms.topic: conceptual
keywords: console, applications en mode caractère, applications en ligne de commande, applications de terminal, API console
MS-HAID:
- '\_win32\_window\_and\_screen\_buffer\_size'
- base.window\_and\_screen\_buffer\_size
- consoles.window\_and\_screen\_buffer\_size
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 55246039-31eb-41ca-ad8e-d314cb508644
ms.openlocfilehash: 91fed765b76ebfb8b9dde318d8f76eff9a72d862
ms.sourcegitcommit: 463975e71920908a6bff9a6a7291ddf3736652d5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/30/2020
ms.locfileid: "93037107"
---
# <a name="window-and-screen-buffer-size"></a><span data-ttu-id="fb3f4-104">Taille de la mémoire tampon de la fenêtre et de l’écran</span><span class="sxs-lookup"><span data-stu-id="fb3f4-104">Window and Screen Buffer Size</span></span>

<span data-ttu-id="fb3f4-105">La taille d’une mémoire tampon d’écran est exprimée en termes de grille de coordonnées basée sur les cellules de caractères.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-105">The size of a screen buffer is expressed in terms of a coordinate grid based on character cells.</span></span> <span data-ttu-id="fb3f4-106">La largeur est le nombre de cellules de caractères dans chaque ligne et la hauteur est le nombre de lignes.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-106">The width is the number of character cells in each row, and the height is the number of rows.</span></span> <span data-ttu-id="fb3f4-107">Une fenêtre qui détermine la taille et l’emplacement de la partie rectangulaire de la mémoire tampon d’écran de la console affichée dans la fenêtre de console est associée à chaque mémoire tampon d’écran.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-107">Associated with each screen buffer is a window that determines the size and location of the rectangular portion of the console screen buffer displayed in the console window.</span></span> <span data-ttu-id="fb3f4-108">La fenêtre d’une mémoire tampon d’écran est définie en spécifiant les coordonnées de cellule de caractères des cellules supérieure gauche et inférieure droite du rectangle de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-108">A screen buffer's window is defined by specifying the character-cell coordinates of the upper left and lower right cells of the window's rectangle.</span></span>

> [!NOTE]
> <span data-ttu-id="fb3f4-109">Dans le monde des **[séquences de terminaux virtuels](console-virtual-terminal-sequences.md)** , la taille de la fenêtre et la taille de la mémoire tampon d’écran sont fixes à la même valeur.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-109">In the **[virtual terminal sequences](console-virtual-terminal-sequences.md)** world, the size of the window and the size of the screen buffer are fixed to the same value.</span></span> <span data-ttu-id="fb3f4-110">Le terminal gère toute région scrollback qui serait l’équivalent d’une console dont la taille de mémoire tampon d’écran est supérieure à la taille de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-110">The terminal handles any scrollback region that would be the equivalent of a console with a screen buffer size larger than its window size.</span></span> <span data-ttu-id="fb3f4-111">Ce contenu appartient au terminal et n’est généralement plus une partie de la zone adressable.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-111">That content belongs to the terminal and is generally no longer a part of the addressable area.</span></span> <span data-ttu-id="fb3f4-112">Pour plus d’informations, consultez notre comparaison entre les **[fonctions de console classiques et les séquences de terminaux virtuels](classic-vs-vt.md)** .</span><span class="sxs-lookup"><span data-stu-id="fb3f4-112">For more information, please see our comparison of the **[classic console functions versus virtual terminal sequences](classic-vs-vt.md)** .</span></span>

<span data-ttu-id="fb3f4-113">Une mémoire tampon d’écran peut avoir n’importe quelle taille, limitée uniquement par la mémoire disponible.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-113">A screen buffer can be any size, limited only by available memory.</span></span> <span data-ttu-id="fb3f4-114">Les dimensions de la fenêtre d’une mémoire tampon d’écran ne peuvent pas dépasser les dimensions correspondantes de la mémoire tampon d’écran de la console ou de la fenêtre maximale qui peut tenir sur l’écran en fonction de la taille de police actuelle (contrôlée exclusivement par l’utilisateur).</span><span class="sxs-lookup"><span data-stu-id="fb3f4-114">The dimensions of a screen buffer's window cannot exceed the corresponding dimensions of either the console screen buffer or the maximum window that can fit on the screen based on the current font size (controlled exclusively by the user).</span></span>

<span data-ttu-id="fb3f4-115">La fonction [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) retourne les informations suivantes sur une mémoire tampon d’écran et sa fenêtre :</span><span class="sxs-lookup"><span data-stu-id="fb3f4-115">The [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) function returns the following information about a screen buffer and its window:</span></span>

- <span data-ttu-id="fb3f4-116">Taille actuelle de la mémoire tampon d’écran de la console</span><span class="sxs-lookup"><span data-stu-id="fb3f4-116">The current size of the console screen buffer</span></span>
- <span data-ttu-id="fb3f4-117">L’emplacement actuel de la fenêtre</span><span class="sxs-lookup"><span data-stu-id="fb3f4-117">The current location of the window</span></span>
- <span data-ttu-id="fb3f4-118">Taille maximale de la fenêtre en fonction de la taille de la mémoire tampon d’écran actuelle, de la taille actuelle de la police et de la taille de l’écran</span><span class="sxs-lookup"><span data-stu-id="fb3f4-118">The maximum size of the window given the current screen buffer size, the current font size, and the screen size</span></span>

<span data-ttu-id="fb3f4-119">La fonction [**GetLargestConsoleWindowSize**](getlargestconsolewindowsize.md) retourne la taille maximale de la fenêtre d’une console en fonction de la police et de la taille d’écran actuelles.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-119">The [**GetLargestConsoleWindowSize**](getlargestconsolewindowsize.md) function returns the maximum size of a console's window based on the current font and screen sizes.</span></span> <span data-ttu-id="fb3f4-120">Cette taille est différente de la taille de fenêtre maximale retournée par [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) , car la taille de la mémoire tampon d’écran de la console est ignorée.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-120">This size differs from the maximum window size returned by [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) in that the console screen buffer size is ignored.</span></span>

<span data-ttu-id="fb3f4-121">Pour modifier la taille d’une mémoire tampon d’écran, utilisez la fonction [**SetConsoleScreenBufferSize**](setconsolescreenbuffersize.md) .</span><span class="sxs-lookup"><span data-stu-id="fb3f4-121">To change a screen buffer's size, use the [**SetConsoleScreenBufferSize**](setconsolescreenbuffersize.md) function.</span></span> <span data-ttu-id="fb3f4-122">Cette fonction échoue si l’une des dimensions de la taille spécifiée est inférieure à la dimension correspondante de la fenêtre de la console.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-122">This function fails if either dimension of the specified size is less than the corresponding dimension of the console's window.</span></span>

<span data-ttu-id="fb3f4-123">Pour modifier la taille ou l’emplacement de la fenêtre d’une mémoire tampon d’écran, utilisez la fonction [**SetConsoleWindowInfo**](setconsolewindowinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="fb3f4-123">To change the size or location of a screen buffer's window, use the [**SetConsoleWindowInfo**](setconsolewindowinfo.md) function.</span></span> <span data-ttu-id="fb3f4-124">Cette fonction échoue si les coordonnées d’angle de fenêtre spécifiées dépassent les limites de la mémoire tampon d’écran de la console ou de l’écran.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-124">This function fails if the specified window-corner coordinates exceed the limits of the console screen buffer or the screen.</span></span> <span data-ttu-id="fb3f4-125">La modification de la taille de la fenêtre de la mémoire tampon active de l’écran modifie la taille de la fenêtre de console affichée à l’écran.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-125">Changing the window size of the active screen buffer changes the size of the console window displayed on the screen.</span></span>

<span data-ttu-id="fb3f4-126">Un processus peut modifier le mode d’entrée de la console pour activer l’entrée de fenêtre afin que le processus puisse recevoir une entrée lorsque l’utilisateur modifie la taille de la mémoire tampon d’écran de la console.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-126">A process can change its console's input mode to enable window input so that the process is able to receive input when the user changes the console screen buffer size.</span></span> <span data-ttu-id="fb3f4-127">Si une application active l’entrée de fenêtre, elle peut utiliser [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) pour récupérer la taille de la mémoire tampon de la fenêtre et de l’écran au démarrage.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-127">If an application enables window input, it can use [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) to retrieve window and screen buffer size at startup.</span></span> <span data-ttu-id="fb3f4-128">Ces informations peuvent ensuite être utilisées pour déterminer la façon dont les données sont affichées dans la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-128">This information can then be used to determine the way data is displayed in the window.</span></span> <span data-ttu-id="fb3f4-129">Si l’utilisateur modifie la taille de la mémoire tampon de l’écran de la console, l’application peut répondre en modifiant la façon dont les données sont affichées.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-129">If the user changes the console screen buffer size, the application can respond by changing the way data is displayed.</span></span> <span data-ttu-id="fb3f4-130">Par exemple, une application peut ajuster la façon dont le texte est renvoyé à la ligne à la fin de la ligne si le nombre de caractères par ligne change.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-130">For example, an application can adjust the way text wraps at the end of the line if the number of characters per row changes.</span></span> <span data-ttu-id="fb3f4-131">Si une application n’active pas l’entrée de fenêtre, elle doit soit utiliser les tailles de mémoire tampon de fenêtre et d’écran héritées, soit définir la taille souhaitée au cours du démarrage et restaurer les tailles héritées à la sortie.</span><span class="sxs-lookup"><span data-stu-id="fb3f4-131">If an application does not enable window input, it must either use the inherited window and screen buffer sizes, or set them to the desired size during startup and restore the inherited sizes at exit.</span></span> <span data-ttu-id="fb3f4-132">Pour plus d’informations sur le mode d’entrée de fenêtre, consultez [modes de console de bas niveau](low-level-console-modes.md).</span><span class="sxs-lookup"><span data-stu-id="fb3f4-132">For additional information about window input mode, see [Low-Level Console Modes](low-level-console-modes.md).</span></span>
