---
title: Défilement de la mémoire tampon d’écran
description: Décrit comment la fenêtre de console affiche une partie de la mémoire tampon d’écran active.
author: miniksa
ms.author: miniksa
ms.topic: article
keywords: console, applications en mode caractère, applications en ligne de commande, applications Terminal Server, API de console
MS-HAID:
- '\_win32\_scrolling\_the\_screen\_buffer'
- base.scrolling\_the\_screen\_buffer
- consoles.scrolling\_the\_screen\_buffer
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: c8404e78-9807-4bed-bc12-25377fa96151
ms.openlocfilehash: 5146d84ffc176b160bfd34d59c14cfe3792e3722
ms.sourcegitcommit: b75f4688e080d300b80c552d0711fdd86b9974bf
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/24/2020
ms.locfileid: "89059428"
---
# <a name="scrolling-the-screen-buffer"></a><span data-ttu-id="1ebed-104">Défilement de la mémoire tampon d’écran</span><span class="sxs-lookup"><span data-stu-id="1ebed-104">Scrolling the Screen Buffer</span></span>


<span data-ttu-id="1ebed-105">La fenêtre de console affiche une partie de la mémoire tampon d’écran active.</span><span class="sxs-lookup"><span data-stu-id="1ebed-105">The console window displays a portion of the active screen buffer.</span></span> <span data-ttu-id="1ebed-106">Chaque mémoire tampon d’écran gère son propre rectangle de fenêtre active qui spécifie les coordonnées des cellules de caractères supérieure gauche et inférieure droite à afficher dans la fenêtre de console.</span><span class="sxs-lookup"><span data-stu-id="1ebed-106">Each screen buffer maintains its own current window rectangle that specifies the coordinates of the upper left and lower right character cells to be displayed in the console window.</span></span> <span data-ttu-id="1ebed-107">Pour déterminer le rectangle de la fenêtre active d’une mémoire tampon d’écran, utilisez [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md).</span><span class="sxs-lookup"><span data-stu-id="1ebed-107">To determine the current window rectangle of a screen buffer, use [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md).</span></span> <span data-ttu-id="1ebed-108">Lorsqu’une mémoire tampon d’écran est créée, l’angle supérieur gauche de la fenêtre se trouve dans l’angle supérieur gauche de la mémoire tampon de l’écran de la console, à (0,0).</span><span class="sxs-lookup"><span data-stu-id="1ebed-108">When a screen buffer is created, the upper left corner of its window is at the upper left corner of the console screen buffer at (0,0).</span></span>

<span data-ttu-id="1ebed-109">Le rectangle de la fenêtre peut être modifié pour afficher différentes parties de la mémoire tampon d’écran de la console.</span><span class="sxs-lookup"><span data-stu-id="1ebed-109">The window rectangle can change to display different parts of the console screen buffer.</span></span> <span data-ttu-id="1ebed-110">Le rectangle de fenêtre d’une mémoire tampon d’écran peut changer dans les cas suivants :</span><span class="sxs-lookup"><span data-stu-id="1ebed-110">The window rectangle of a screen buffer can change in the following situations:</span></span>

- <span data-ttu-id="1ebed-111">Quand [**SetConsoleWindowInfo**](setconsolewindowinfo.md) est appelé pour spécifier un nouveau rectangle de fenêtre, il fait défiler la vue de la mémoire tampon d’écran de la console en modifiant la position du rectangle de la fenêtre sans modifier la taille de la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="1ebed-111">When [**SetConsoleWindowInfo**](setconsolewindowinfo.md) is called to specify a new window rectangle, it scrolls the view of the console screen buffer by changing the position of the window rectangle without changing the size of the window.</span></span> <span data-ttu-id="1ebed-112">Pour obtenir des exemples de défilement du contenu de la fenêtre, consultez défilement de la [fenêtre d’une mémoire tampon d’écran](scrolling-a-screen-buffer-s-window.md).</span><span class="sxs-lookup"><span data-stu-id="1ebed-112">For examples of scrolling the window's contents, see [Scrolling a Screen Buffer's Window](scrolling-a-screen-buffer-s-window.md).</span></span>

  ![fenêtre de mémoire tampon d’écran](images/cscon-01.png)

- <span data-ttu-id="1ebed-114">Lorsque vous utilisez la fonction [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) pour écrire dans une mémoire tampon d’écran avec l’option encapsuler au mode de sortie de fin de ligne (EOL) activé, le rectangle de la fenêtre se déplace automatiquement, de sorte que le curseur est toujours affiché.</span><span class="sxs-lookup"><span data-stu-id="1ebed-114">When using the [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) function to write to a screen buffer with wrap at end-of-line (EOL) output mode enabled, the window rectangle shifts automatically, so the cursor is always displayed.</span></span>
- <span data-ttu-id="1ebed-115">Lorsque la fonction [**SetConsoleCursorPosition**](setconsolecursorposition.md) spécifie une nouvelle position de curseur qui se trouve en dehors des limites du rectangle de la fenêtre active, le rectangle de la fenêtre se déplace automatiquement pour afficher le curseur.</span><span class="sxs-lookup"><span data-stu-id="1ebed-115">When the [**SetConsoleCursorPosition**](setconsolecursorposition.md) function specifies a new cursor position that is outside the boundaries of the current window rectangle, the window rectangle shifts automatically to display the cursor.</span></span>
- <span data-ttu-id="1ebed-116">Lorsque l’utilisateur modifie la taille de la fenêtre de console ou utilise les barres de défilement de la fenêtre, le rectangle de la fenêtre de la mémoire tampon d’écran active peut changer.</span><span class="sxs-lookup"><span data-stu-id="1ebed-116">When the user changes the size of the console window or uses the window's scroll bars, the window rectangle of the active screen buffer can change.</span></span> <span data-ttu-id="1ebed-117">Cette modification n’est pas signalée comme un événement de redimensionnement de fenêtre dans la mémoire tampon d’entrée.</span><span class="sxs-lookup"><span data-stu-id="1ebed-117">This change is not reported as a window resizing event in the input buffer.</span></span>

<span data-ttu-id="1ebed-118">Dans chacune de ces situations, le rectangle de la fenêtre se déplace pour afficher une autre partie de la mémoire tampon d’écran de la console, mais le contenu de la mémoire tampon d’écran de la console reste à la même position.</span><span class="sxs-lookup"><span data-stu-id="1ebed-118">In each of these situations, the window rectangle shifts to display a different part of the console screen buffer, but the contents of the console screen buffer remain in the same position.</span></span> <span data-ttu-id="1ebed-119">Les situations suivantes peuvent entraîner le décalage du contenu de la mémoire tampon de l’écran de la console :</span><span class="sxs-lookup"><span data-stu-id="1ebed-119">The following situations can cause the console screen buffer's contents to shift:</span></span>

- <span data-ttu-id="1ebed-120">Lorsque la fonction [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) est appelée, un bloc rectangulaire est copié d’une partie d’une mémoire tampon d’écran vers une autre.</span><span class="sxs-lookup"><span data-stu-id="1ebed-120">When the [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) function is called, a rectangular block is copied from one part of a screen buffer to another.</span></span>
- <span data-ttu-id="1ebed-121">Lors de l’utilisation de [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) pour écrire dans une mémoire tampon d’écran avec encapsuler en mode de sortie EOL activé, le contenu de la mémoire tampon de l’écran de la console défile automatiquement à la fin de la mémoire tampon d’écran de la console.</span><span class="sxs-lookup"><span data-stu-id="1ebed-121">When using [**WriteFile**](https://msdn.microsoft.com/library/windows/desktop/aa365747) to write to a screen buffer with wrap at EOL output mode enabled, the console screen buffer's contents scroll automatically when the end of the console screen buffer is encountered.</span></span> <span data-ttu-id="1ebed-122">Ce défilement ignore la ligne supérieure de la mémoire tampon d’écran de la console.</span><span class="sxs-lookup"><span data-stu-id="1ebed-122">This scrolling discards the top row of the console screen buffer.</span></span>

<span data-ttu-id="1ebed-123">[**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) spécifie le rectangle de la mémoire tampon d’écran de la console qui est déplacé et les nouvelles coordonnées en haut à gauche auxquelles le rectangle est copié.</span><span class="sxs-lookup"><span data-stu-id="1ebed-123">[**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) specifies the console screen buffer rectangle that is moved and the new upper left coordinates to which the rectangle is copied.</span></span> <span data-ttu-id="1ebed-124">Cette fonction peut faire défiler une partie ou la totalité du contenu de la mémoire tampon de l’écran de la console.</span><span class="sxs-lookup"><span data-stu-id="1ebed-124">This function can scroll a portion or the entire contents of the console screen buffer.</span></span>

<span data-ttu-id="1ebed-125">L’illustration montre une opération [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) qui fait défiler le contenu entier de la mémoire tampon de l’écran de la console vers le haut de plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="1ebed-125">The illustration shows a [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) operation that scrolls the entire contents of the console screen buffer up by several rows.</span></span> <span data-ttu-id="1ebed-126">Le contenu des lignes du haut est supprimé et les lignes du bas sont remplies avec un caractère et une couleur spécifiés.</span><span class="sxs-lookup"><span data-stu-id="1ebed-126">The contents of the top rows are discarded, and the bottom rows are filled with a specified character and color.</span></span>

![fenêtre de mémoire tampon d’écran](images/cscon-02.png)

<span data-ttu-id="1ebed-128">Les effets de [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) peuvent être limités en spécifiant un rectangle de découpage facultatif afin que le contenu de la mémoire tampon d’écran de la console en dehors du rectangle de découpage ne soit pas modifié.</span><span class="sxs-lookup"><span data-stu-id="1ebed-128">The effects of [**ScrollConsoleScreenBuffer**](scrollconsolescreenbuffer.md) can be limited by specifying an optional clipping rectangle so that the contents of the console screen buffer outside the clipping rectangle are unchanged.</span></span> <span data-ttu-id="1ebed-129">L’effet du découpage consiste à créer une sous-fenêtre (rectangle de découpage) dont le contenu défile sans affecter le reste de la mémoire tampon d’écran de la console.</span><span class="sxs-lookup"><span data-stu-id="1ebed-129">The effect of clipping is to create a subwindow (the clipping rectangle) whose contents are scrolled without affecting the rest of the console screen buffer.</span></span> <span data-ttu-id="1ebed-130">Pour obtenir un exemple qui utilise **ScrollConsoleScreenBuffer**, consultez [défilement du contenu d’une mémoire tampon d’écran](scrolling-a-screen-buffer-s-contents.md).</span><span class="sxs-lookup"><span data-stu-id="1ebed-130">For an example that uses **ScrollConsoleScreenBuffer**, see [Scrolling a Screen Buffer's Contents](scrolling-a-screen-buffer-s-contents.md).</span></span>

 

 




