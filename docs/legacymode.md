---
title: Mode Console héritée - Bureau Windows
description: Le mode Console héritée est un outil de compatibilité permettant d’exécuter des applications en ligne de commande qui risquent de ne pas fonctionner avec l’hôte de console Windows 10
author: miniksa
ms.author: miniksa
ms.topic: conceptual
ms.prod: console
keywords: console, applications en mode caractère, applications en ligne de commande, applications de terminal, api console, compatibilité
ms.openlocfilehash: e3b5876131ff30f5b0baebddc842ab3366c02786
ms.sourcegitcommit: 281eb1469f77ae4fb4c67806898e14eac440522a
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/14/2021
ms.locfileid: "100357789"
---
# <a name="legacy-console-mode"></a><span data-ttu-id="28a18-104">Mode Console héritée</span><span class="sxs-lookup"><span data-stu-id="28a18-104">Legacy Console mode</span></span>

<span data-ttu-id="28a18-105">Le mode Console hérité est un outil de compatibilité conçu pour aider les utilisateurs d’anciens outils en ligne de commande sur Windows 10.</span><span class="sxs-lookup"><span data-stu-id="28a18-105">Legacy Console mode is a compatibility tool designed to help users of older command-line tools on Windows 10.</span></span> <span data-ttu-id="28a18-106">Pour tous les outils en ligne de commande qui ne s’affichent pas ou ne fonctionnent pas correctement dans l’expérience par défaut de la console Windows 10, ce mode fournit une solution grossière pour rétablir, dans le système, une version antérieure de l’expérience d’hébergement de console.</span><span class="sxs-lookup"><span data-stu-id="28a18-106">For any command-line tool that is not displaying or operating correctly in the default Windows 10 console experience, this mode provides a coarse-grained solution to stepping the system back to an older version of the console hosting experience.</span></span>

## <a name="using-legacy-console-mode"></a><span data-ttu-id="28a18-107">Utilisation du mode Console héritée</span><span class="sxs-lookup"><span data-stu-id="28a18-107">Using Legacy Console Mode</span></span>

<span data-ttu-id="28a18-108">Pour utiliser le mode Console hérité, commencez par ouvrir une fenêtre d’hébergement de console.</span><span class="sxs-lookup"><span data-stu-id="28a18-108">To use Legacy Console mode, first open any console hosting window.</span></span> <span data-ttu-id="28a18-109">Cette opération s’effectue généralement en lançant l’un des interpréteurs de commandes [CMD](/windows-server/administration/windows-commands/cmd) ou [PowerShell](/powershell/scripting/install/installing-windows-powershell).</span><span class="sxs-lookup"><span data-stu-id="28a18-109">This is typically done by launching one of the command interpreters [CMD](/windows-server/administration/windows-commands/cmd) or [PowerShell](/powershell/scripting/install/installing-windows-powershell).</span></span>

<span data-ttu-id="28a18-110">Cliquez avec le bouton droit sur la barre de titre de l’application, puis choisissez l’option de menu `Properties`.</span><span class="sxs-lookup"><span data-stu-id="28a18-110">Right-click on the application title bar and choose the `Properties` menu option.</span></span> <span data-ttu-id="28a18-111">Choisissez le premier onglet, `Options`.</span><span class="sxs-lookup"><span data-stu-id="28a18-111">Choose the first tab, `Options`.</span></span> <span data-ttu-id="28a18-112">Cochez ensuite la case en bas de la page décrivant `Use legacy console`.</span><span class="sxs-lookup"><span data-stu-id="28a18-112">Then check the box at the bottom of the page describing `Use legacy console`.</span></span> <span data-ttu-id="28a18-113">Appuyez sur le bouton `OK` pour appliquer vos sélections.</span><span class="sxs-lookup"><span data-stu-id="28a18-113">Press the `OK` button to apply.</span></span>

<span data-ttu-id="28a18-114">Le paramètre peut être rétabli en revenant au même menu de feuille de propriétés, en décochant la case, puis en appuyant sur `OK`.</span><span class="sxs-lookup"><span data-stu-id="28a18-114">The setting can be reverted by returning to the same property sheet menu and unchecking the box then pressing `OK`.</span></span>

> [!NOTE]
><span data-ttu-id="28a18-115">Ce paramètre est appliqué globalement à toutes les sessions qui démarrent après le changement de la préférence.</span><span class="sxs-lookup"><span data-stu-id="28a18-115">This setting is globally applied to all sessions that start after the preference is changed.</span></span> <span data-ttu-id="28a18-116">Les sessions déjà ouvertes ne sont pas modifiées.</span><span class="sxs-lookup"><span data-stu-id="28a18-116">Sessions that are already open will not be changed.</span></span>

## <a name="differences-between-modes"></a><span data-ttu-id="28a18-117">Différences entre les modes</span><span class="sxs-lookup"><span data-stu-id="28a18-117">Differences between modes</span></span>

<span data-ttu-id="28a18-118">L’équipe Hôte de la console s’efforce de réduire les différences entre le mode Hérité et le mode actuel de la console pour garantir que le plus grand nombre de clients possible peuvent exécuter la version la plus à jour.</span><span class="sxs-lookup"><span data-stu-id="28a18-118">The Console Host team strives to minimize differences between the Legacy and current modes of the console to ensure that as many customers as possible can run the most up-to-date version.</span></span> <span data-ttu-id="28a18-119">Si vous rencontrez un problème qui vous oblige à utiliser la console héritée qui n’est pas documentée ici, contactez l’équipe sur le dépôt GitHub [microsoft/terminal](https://github.com/microsoft/terminal/) ou par le biais du [Hub de commentaires](/windows-insider/feedback-hub/feedback-hub-app) pour obtenir de l’aide.</span><span class="sxs-lookup"><span data-stu-id="28a18-119">If you experience an issue that requires you to use the legacy console that is not documented here, please contact the team on the [microsoft/terminal](https://github.com/microsoft/terminal/) GitHub repository or via the [Feedback Hub](/windows-insider/feedback-hub/feedback-hub-app) for assistance.</span></span>

### <a name="16-bit-applications-on-32-bit-windows"></a><span data-ttu-id="28a18-120">Applications 16 bits sur Windows 32 bits</span><span class="sxs-lookup"><span data-stu-id="28a18-120">16-bit applications on 32-bit Windows</span></span>

<span data-ttu-id="28a18-121">Pour fonctionner, certaines applications 16 bits sur Windows 32 bits utilisent une technologie de machine virtuelle appelée [NTVDM](/windows/compatibility/ntvdm-and-16-bit-app-support).</span><span class="sxs-lookup"><span data-stu-id="28a18-121">Some 16-bit applications on 32-bit Windows use a virtual machine technology to operate called [NTVDM](/windows/compatibility/ntvdm-and-16-bit-app-support).</span></span> <span data-ttu-id="28a18-122">Ces applications utilisent souvent un mode de mise en mémoire tampon d’écran graphique conjointement avec l’environnement d’hébergement de console pour fonctionner.</span><span class="sxs-lookup"><span data-stu-id="28a18-122">Often these applications use a graphical screen buffering mode in conjunction with the console hosting environment to operate.</span></span> <span data-ttu-id="28a18-123">Seule l’expérience de console héritée prend en charge ces modes de mise en mémoire tampon graphiques et les API de console supplémentaires nécessaires pour alimenter ces applications.</span><span class="sxs-lookup"><span data-stu-id="28a18-123">Only the legacy console experience supports these graphical buffering modes and the additional console API support required to power these applications.</span></span> <span data-ttu-id="28a18-124">Le système sélectionne automatiquement l’environnement de console héritée quand l’une de ces applications est lancée.</span><span class="sxs-lookup"><span data-stu-id="28a18-124">The system will automatically select the legacy console environment when one of these applications is launched.</span></span>

### <a name="ime-embedding"></a><span data-ttu-id="28a18-125">Incorporation d’IME</span><span class="sxs-lookup"><span data-stu-id="28a18-125">IME Embedding</span></span>

<span data-ttu-id="28a18-126">L’hôte de console héritée incorporait la partie suggestion de l’IME à l’intérieur de la fenêtre d’hébergement en réservant une ligne en bas de l’écran pour les suggestions.</span><span class="sxs-lookup"><span data-stu-id="28a18-126">The legacy Console Host embedded the suggestion portion of the IME inside the hosting window by reserving a line at the bottom of the screen for suggestions.</span></span> <span data-ttu-id="28a18-127">Au lieu de cela, l’environnement d’hôte de console actuel délègue cette activité au sous-système IME pour afficher une fenêtre superposée au-dessus de l’hôte de console avec des suggestions.</span><span class="sxs-lookup"><span data-stu-id="28a18-127">The current Console Host environment instead delegates this activity to the IME subsystem to display an overlay window above the console host with suggestions.</span></span> <span data-ttu-id="28a18-128">Dans un environnement où les fenêtres superposées ne sont pas possibles (comme avec certains outils de communication à distance), l’hôte de console héritée peut être nécessaire.</span><span class="sxs-lookup"><span data-stu-id="28a18-128">In an environment where overlay windows are not possible (like with certain remoting tools), the legacy console host may be required.</span></span>

### <a name="api-differences"></a><span data-ttu-id="28a18-129">Différences d’API</span><span class="sxs-lookup"><span data-stu-id="28a18-129">API Differences</span></span>

<span data-ttu-id="28a18-130">La principale différence connue entre l’hôte hérité et l’hôte actuel est l’implémentation d’UTF-8.</span><span class="sxs-lookup"><span data-stu-id="28a18-130">The major known difference between legacy and current is the implementation of UTF-8.</span></span> <span data-ttu-id="28a18-131">L’hôte hérité a une prise en charge extrêmement rudimentaire et souvent incorrecte d’UTF-8 avec la [page de codes 65001](/windows/win32/intl/code-pages).</span><span class="sxs-lookup"><span data-stu-id="28a18-131">The legacy host has extremely rudimentary and often incorrect support of UTF-8 with [code page 65001](/windows/win32/intl/code-pages).</span></span> <span data-ttu-id="28a18-132">L’hôte de console actuel bénéficie d’améliorations progressives de Windows 10, version après version, visant à perfectionner cette prise en charge.</span><span class="sxs-lookup"><span data-stu-id="28a18-132">The current console host contains incremental improvements release-over-release of Windows 10 to improve this support.</span></span> <span data-ttu-id="28a18-133">Les applications qui tentent de s’appuyer sur la prédiction d’interprétations « connues comme étant incorrectes » d’UTF-8 à partir de la console héritée peuvent se retrouver à recevoir des réponses différentes à mesure que la prise en charge est améliorée.</span><span class="sxs-lookup"><span data-stu-id="28a18-133">Applications that are attempting to rely on predicting "known incorrect" interpretations of UTF-8 from the legacy console will find themselves receiving different answers as support is improved.</span></span>

<span data-ttu-id="28a18-134">Les autres différences rencontrées avec les API doivent être signalées dans le [dépôt GitHub microsoft/terminal](https://github.com/microsoft/terminal/) ou le [Hub de commentaires](/windows-insider/feedback-hub/feedback-hub-app) en vue de les trier et d’y apporter des solutions.</span><span class="sxs-lookup"><span data-stu-id="28a18-134">Other differences experienced with APIs should be reported to the [microsoft/terminal GitHub repository](https://github.com/microsoft/terminal/) or via the [Feedback Hub](/windows-insider/feedback-hub/feedback-hub-app) for triage and possible remediation.</span></span>